!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.xgplayer=t():e.xgplayer=t()}(window,(function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=115)}([function(e,t,i){"use strict";i.d(t,"f",(function(){return o})),i.d(t,"m",(function(){return r})),i.d(t,"c",(function(){return s})),i.d(t,"r",(function(){return a})),i.d(t,"t",(function(){return l})),i.d(t,"j",(function(){return c})),i.d(t,"k",(function(){return d})),i.d(t,"i",(function(){return f})),i.d(t,"u",(function(){return h})),i.d(t,"h",(function(){return p})),i.d(t,"e",(function(){return g})),i.d(t,"b",(function(){return y})),i.d(t,"a",(function(){return v})),i.d(t,"g",(function(){return m})),i.d(t,"o",(function(){return b})),i.d(t,"n",(function(){return x})),i.d(t,"p",(function(){return T})),i.d(t,"q",(function(){return O})),i.d(t,"l",(function(){return _})),i.d(t,"d",(function(){return S})),i.d(t,"s",(function(){return R})),i.d(t,"v",(function(){return A}));var n=i(7);function o(e="div",t="",i={},n=""){let o=document.createElement(e);return o.className=n,o.innerHTML=t,Object.keys(i).forEach(t=>{let n=t,r=i[t];"video"===e||"audio"===e?r&&o.setAttribute(n,r):o.setAttribute(n,r)}),o}function r(e,t){return!!e&&(e.classList?Array.prototype.some.call(e.classList,e=>e===t):!!e.className&&!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)")))}function s(e,t){e&&(e.classList?t.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(t=>{t&&e.classList.add(t)}):r(e,t)||(e.className+=" "+t))}function a(e,t){e&&(e.classList?t.split(/\s+/g).forEach(t=>{e.classList.remove(t)}):r(e,t)&&t.split(/\s+/g).forEach(t=>{let i=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(i," ")}))}function l(e,t){e&&t.split(/\s+/g).forEach(t=>{r(e,t)?a(e,t):s(e,t)})}function c(e=document,t){let i;try{i=e.querySelector(t)}catch(n){0===t.indexOf("#")&&(i=e.getElementById(t.slice(1)))}return i}function u(e,t,i){let n=String(i),o=t>>0,r=Math.ceil(o/n.length),s=[],a=String(e);for(;r--;)s.push(n);return s.join("").substring(0,o-a.length)+a}function d(e){if(window.isNaN(e))return"";let t=u(Math.floor(e/3600),2,0),i=u(Math.floor((e-3600*t)/60),2,0),n=u(Math.floor(e-3600*t-60*i),2,0);return("00"===t?[i,n]:[t,i,n]).join(":")}function f(e){if(e.touches){let t=e.touches[0]||e.changedTouches[0];e.clientX=t.clientX||0,e.clientY=t.clientY||0,e.offsetX=t.pageX-t.target.offsetLeft,e.offsetY=t.pageY-t.target.offsetTop}e._target=e.target||e.srcElement}function h(e){return Object.prototype.toString.call(e).match(/([^\s.*]+)(?=]$)/g)[0]}function p(e,t){if("Object"===h(t)&&"Object"===h(e))return Object.keys(t).forEach(i=>{"Object"!==h(t[i])||t[i]instanceof Node?"Array"===h(t[i])?e[i]="Array"===h(e[i])?e[i].concat(t[i]):t[i]:e[i]=t[i]:e[i]?p(e[i],t[i]):e[i]=t[i]}),e}function g(e){if(e&&1===e.nodeType){let t=document.createElement(e.tagName);return Array.prototype.forEach.call(e.attributes,e=>{t.setAttribute(e.name,e.value)}),e.innerHTML&&(t.innerHTML=e.innerHTML),t}return""}function y(e,t,i,n){e._interval[t]||(e._interval[t]=setInterval(i.bind(e),n))}function v(e,t){clearInterval(e._interval[t]),e._interval[t]=null}function m(e,t,i,n){let r=o("xg-"+e,"",{},`xgplayer-${e}-img`);if(r.style.backgroundImage=`url("${t}")`,i&&n){let t,o,s;["px","rem","em","pt","dp","vw","vh","vm","%"].every(e=>!(i.indexOf(e)>-1&&n.indexOf(e)>-1)||(t=Number(i.slice(0,i.indexOf(e)).trim()),o=Number(n.slice(0,n.indexOf(e)).trim()),s=e,!1)),r.style.width=`${t}${s}`,r.style.height=`${o}${s}`,r.style.backgroundSize=`${t}${s} ${o}${s}`,r.style.margin="start"===e?`-${o/2}${s} auto auto -${t/2}${s}`:"auto 5px auto 5px"}return r}function b(){return window.navigator.userAgent.toLowerCase().indexOf("micromessenger")>-1}function x(){return window.navigator.userAgent.toLowerCase().indexOf("ucbrowser")>-1}function E(e,t,i,n){e.once(n,(function o(){e.off(t,i),e.off(n,o)}))}function T(e,t,i,n){if(n)e.on(t,i),E(e,t,i,n);else{let n=o=>{i(o),e.off(t,n)};e.on(t,n)}}function O(e,t,i,n){if(n)e.once(t,i),E(e,t,i,n);else{let n=o=>{i(o),e.off(t,n)};e.once(t,n)}}function _(e,t=.5){let i=[];for(let t=0;t<e.length;t++)i.push({start:e.start(t)<.5?0:e.start(t),end:e.end(t)});i.sort((function(e,t){let i=e.start-t.start;return i||t.end-e.end}));let o=[];if(t)for(let e=0;e<i.length;e++){let n=o.length;if(n){let r=o[n-1].end;i[e].start-r<t?i[e].end>r&&(o[n-1].end=i[e].end):o.push(i[e])}else o.push(i[e])}else o=i;return new n.a(o)}function S(){return!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)}function R(e,t,i){let n=e.style;try{n[t]=i}catch(e){n.setProperty(t,i)}}const A={createDom:o,hasClass:r,addClass:s,removeClass:a,toggleClass:l,findDom:c,padStart:u,format:d,event:f,typeOf:h,deepCopy:p,getBgImage:function(e){let t=(e.currentStyle||window.getComputedStyle(e,null)).backgroundImage;if(!t||"none"===t)return"";let i=document.createElement("a");return i.href=t.replace(/url\("|"\)/g,""),i.href},copyDom:g,setInterval:y,clearInterval:v,createImgBtn:m,isWeiXin:b,isUc:x,computeWatchDur:function(e=[]){let t=[];for(let i=0;i<e.length;i++)if(!(!e[i].end||e[i].begin<0||e[i].end<0||e[i].end<e[i].begin))if(t.length<1)t.push({begin:e[i].begin,end:e[i].end});else for(let n=0;n<t.length;n++){let o=e[i].begin,r=e[i].end;if(r<t[n].begin){t.splice(n,0,{begin:o,end:r});break}if(!(o>t[n].end)){let e=t[n].begin,i=t[n].end;t[n].begin=Math.min(o,e),t[n].end=Math.max(r,i);break}if(n>t.length-2){t.push({begin:o,end:r});break}}let i=0;for(let e=0;e<t.length;e++)i+=t[e].end-t[e].begin;return i},offInDestroy:E,on:T,once:O,getBuffered2:_,checkIsBrowser:S,setStyle:R}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var o=(s=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),r=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[i].concat(r).concat([o]).join("\n")}var s;return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(n[r]=!0)}for(o=0;o<e.length;o++){var s=e[o];"number"==typeof s[0]&&n[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),t.push(s))}},t}},function(e,t,i){var n,o,r={},s=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=n.apply(this,arguments)),o}),a=function(e){return document.querySelector(e)},l=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var i=a.call(this,e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}}(),c=null,u=0,d=[],f=i(39);function h(e,t){for(var i=0;i<e.length;i++){var n=e[i],o=r[n.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](n.parts[s]);for(;s<n.parts.length;s++)o.parts.push(b(n.parts[s],t))}else{var a=[];for(s=0;s<n.parts.length;s++)a.push(b(n.parts[s],t));r[n.id]={id:n.id,refs:1,parts:a}}}}function p(e,t){for(var i=[],n={},o=0;o<e.length;o++){var r=e[o],s=t.base?r[0]+t.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};n[s]?n[s].parts.push(a):i.push(n[s]={id:s,parts:[a]})}return i}function g(e,t){var i=l(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=d[d.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),d.push(t);else if("bottom"===e.insertAt)i.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=l(e.insertInto+" "+e.insertAt.before);i.insertBefore(t,o)}}function y(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function v(e){var t=document.createElement("style");return e.attrs.type="text/css",m(t,e.attrs),g(e,t),t}function m(e,t){Object.keys(t).forEach((function(i){e.setAttribute(i,t[i])}))}function b(e,t){var i,n,o,r;if(t.transform&&e.css){if(!(r=t.transform(e.css)))return function(){};e.css=r}if(t.singleton){var s=u++;i=c||(c=v(t)),n=T.bind(null,i,s,!1),o=T.bind(null,i,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",m(t,e.attrs),g(e,t),t}(t),n=_.bind(null,i,t),o=function(){y(i),i.href&&URL.revokeObjectURL(i.href)}):(i=v(t),n=O.bind(null,i),o=function(){y(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=s()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=p(e,t);return h(i,t),function(e){for(var n=[],o=0;o<i.length;o++){var s=i[o];(a=r[s.id]).refs--,n.push(a)}e&&h(p(e,t),t);for(o=0;o<n.length;o++){var a;if(0===(a=n[o]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete r[a.id]}}}};var x,E=(x=[],function(e,t){return x[e]=t,x.filter(Boolean).join("\n")});function T(e,t,i,n){var o=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=E(t,o);else{var r=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}function O(e,t){var i=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}function _(e,t,i){var n=i.css,o=i.sourceMap,r=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||r)&&(n=f(n)),o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}},function(e,t,i){"use strict";let n={};Object.defineProperty(n,"device",{get:function(){return n.os.isPc?"pc":"mobile"}}),Object.defineProperty(n,"browser",{get:function(){let e=navigator.userAgent.toLowerCase(),t={ie:/rv:([\d.]+)\) like gecko/,firfox:/firefox\/([\d.]+)/,chrome:/chrome\/([\d.]+)/,opera:/opera.([\d.]+)/,safari:/version\/([\d.]+).*safari/};return[].concat(Object.keys(t).filter(i=>t[i].test(e)))[0]||""}}),Object.defineProperty(n,"os",{get:function(){let e=navigator.userAgent,t=/(?:Windows Phone)/.test(e),i=/(?:SymbianOS)/.test(e)||t,n=/(?:Android)/.test(e),o=/(?:Firefox)/.test(e),r=/(?:iPad|PlayBook)/.test(e)||n&&!/(?:Mobile)/.test(e)||o&&/(?:Tablet)/.test(e),s=/(?:iPhone)/.test(e)&&!r;return{isTablet:r,isPhone:s,isAndroid:n,isPc:!(s||n||i||r),isSymbian:i,isWindowsPhone:t,isFireFox:o}}}),t.a=n},function(e,t,i){"use strict";var n=i(8);const o={network:{code:1,msg:"视频下载错误",remark:"只要视频下载错误就使用此类型，无论是video本身的超时还是xhr的分段请求超时或者资源不存在"},mse:{code:2,msg:"流追加错误",remark:"追加流的时候如果类型不对、无法被正确解码则会触发此类错误"},parse:{code:3,msg:"解析错误",remark:"mp4、hls、flv我们都是使用js进行格式解析，如果解析失败则会触发此类错误"},format:{code:4,msg:"格式错误",remark:"如果浏览器不支持的格式导致播放错误"},decoder:{code:5,msg:"解码错误",remark:"浏览器解码异常会抛出此类型错误"},runtime:{code:6,msg:"语法错误",remark:"播放器语法错误"},timeout:{code:7,msg:"播放超时",remark:"播放过程中无法正常请求下一个分段导致播放中断"},other:{code:8,msg:"其他错误",remark:"不可知的错误或被忽略的错误类型"}};t.a=class{constructor(e,t,i,r,s,a,l,c,u={line:"",handle:"",msg:"",version:""},d,f){let h={};if(arguments.length>1)h.playerVersion=n.a,h.errorType=e,h.domain=document.domain,h.duration=i,h.currentTime=t,h.networkState=r,h.readyState=s,h.currentSrc=l,h.src=a,h.ended=c,h.errd=u,h.ex=(o[e]||{}).msg,h.errorCode=d,h.mediaError=f;else{const e=arguments[0];Object.keys(e).map(t=>{h[t]=e[t]}),h.ex=(e.type&&o[e.type]||{}).msg}return h}}},function(e,t,i){"use strict";var n=i(11),o=i.n(n),r=i(0),s=i(4);var a=class{constructor(e){this._hasStart=!1,this.videoConfig={controls:!!e.isShowControl,autoplay:e.autoplay,playsinline:e.playsinline,"webkit-playsinline":e.playsinline,"x5-playsinline":e.playsinline,"x5-video-player-type":e["x5-video-player-type"]||e.x5VideoPlayerType,"x5-video-player-fullscreen":e["x5-video-player-fullscreen"]||e.x5VideoPlayerFullscreen,"x5-video-orientation":e["x5-video-orientation"]||e.x5VideoOrientation,airplay:e.airplay,"webkit-airplay":e.airplay,tabindex:2,mediaType:e.mediaType||"video"},e.muted&&(this.videoConfig.muted="muted"),e.loop&&(this.videoConfig.loop="loop");let t="";if(this.textTrackShowDefault=!0,e.nativeTextTrack&&Array.isArray(e.nativeTextTrack)&&(e.nativeTextTrack.length>0&&!e.nativeTextTrack.some(e=>e.default)&&(e.nativeTextTrack[0].default=!0,this.textTrackShowDefault=!1),e.nativeTextTrack.some(e=>{if(e.src&&e.label&&e.default)return t+=`<track src="${e.src}" `,e.kind&&(t+=`kind="${e.kind}" `),t+=`label="${e.label}" `,e.srclang&&(t+=`srclang="${e.srclang}" `),t+=(e.default?"default":"")+">",!0}),this.videoConfig.crossorigin="anonymous"),e.textTrackStyle){let t=document.createElement("style");this.textTrackStyle=t,document.head.appendChild(t);let i="";for(let t in e.textTrackStyle)i+=`${t}: ${e.textTrackStyle[t]};`;let n=e.id?"#"+e.id:e.el.id?"#"+e.el.id:"."+e.el.className;t.sheet.insertRule?t.sheet.insertRule(`${n} video::cue { ${i} }`,0):t.sheet.addRule&&t.sheet.addRule(n+" video::cue",i)}let i=e.el?e.el:Object(r.j)(document,"#"+e.id);const n=this.constructor.XgVideoProxy;if(n&&this.videoConfig.mediaType===n.mediaType?this.video=new n(i,e):this.video=Object(r.f)(this.videoConfig.mediaType,t,this.videoConfig,""),e.videoStyle&&Object.keys(e.videoStyle).forEach(t=>{Object(r.s)(this.video,t,e.videoStyle[t])}),!this.textTrackShowDefault&&t){this.video.getElementsByTagName("Track")[0].track.mode="hidden"}e.autoplay&&(this.video.autoplay=!0,e.autoplayMuted&&(this.video.muted=!0)),this.ev=["play","playing","pause","ended","error","seeking","seeked","progress","timeupdate","waiting","canplay","canplaythrough","durationchange","volumechange","loadedmetadata","loadeddata","loadstart"].map(e=>({[e]:`on${e.charAt(0).toUpperCase()}${e.slice(1)}`})),o()(this),this._interval={};let s="0,0",a=this;const l=e=>{this&&("play"===e?this.hasStart=!0:"canplay"===e?Object(r.r)(this.root,"xgplayer-is-enter"):"waiting"===e?this.inWaitingStart=(new Date).getTime():"playing"===e&&(Object(r.r)(this.root,"xgplayer-is-enter"),this.inWaitingStart&&(this.inWaitingStart=void 0)),"error"===e?this._onError(e):this.emit(e,this),this.hasOwnProperty("_interval")&&(["ended","error","timeupdate"].indexOf(e)<0?(Object(r.a)(this,"bufferedChange"),Object(r.b)(this,"bufferedChange",(function(){if(this.video&&this.video.buffered){let e=[];for(let t=0,i=this.video.buffered.length;t<i;t++)e.push([this.video.buffered.start(t),this.video.buffered.end(t)]);e.toString()!==s&&(s=e.toString(),this.emit("bufferedChange",e))}}),200)):"timeupdate"!==e&&Object(r.a)(this,"bufferedChange")))},c=t=>{e.videoEventMiddleware&&"function"==typeof e.videoEventMiddleware[t]?e.videoEventMiddleware[t].call(this,this,t,l):l.call(this,t)};this.ev.forEach(e=>{a.evItem=Object.keys(e)[0];let t=Object.keys(e)[0];a.video.addEventListener(Object.keys(e)[0],c.bind(a,t))})}_onError(e){this.video&&this.video.error&&this.emit(e,new s.a("other",this.currentTime,this.duration,this.networkState,this.readyState,this.currentSrc,this.src,this.ended,{line:162,msg:this.error,handle:"Constructor"},this.video.error.code,this.video.error))}get hasStart(){return this._hasStart}set hasStart(e){"boolean"!=typeof e||!0!==e||this._hasStart||(this._hasStart=!0,this.emit("hasstart"))}destroy(){this.textTrackStyle&&this.textTrackStyle.parentNode.removeChild(this.textTrackStyle)}play(){return this.video.play()}pause(){this.video.pause()}canPlayType(e){return this.video.canPlayType(e)}getBufferedRange(e){let t=[0,0],i=this.video;e||(e=i.buffered);let n=i.currentTime;if(e)for(let i=0,o=e.length;i<o&&(t[0]=e.start(i),t[1]=e.end(i),!(t[0]<=n&&n<=t[1]));i++);return t[0]-n<=0&&n-t[1]<=0?t:[0,0]}proxyOn(e,t){Object(r.p)(this,e,t,"destroy")}proxyOnce(e,t){Object(r.q)(this,e,t,"destroy")}set autoplay(e){this.video&&(this.video.autoplay=e)}get autoplay(){return!!this.video&&this.video.autoplay}get buffered(){return this.video?this.video.buffered:void 0}get buffered2(){return Object(r.l)(this.video.buffered)}get crossOrigin(){return!!this.video&&this.video.crossOrigin}set crossOrigin(e){this.video&&(this.video.crossOrigin=e)}get currentSrc(){return this.video?this.video.currentSrc:void 0}get currentTime(){return this.video&&this.video.currentTime||0}set currentTime(e){("function"!=typeof isFinite||isFinite(e))&&(Object(r.m)(this.root,"xgplayer-ended")?(this.once("playing",()=>{this.video.currentTime=e}),this.replay()):this.video.currentTime=e,this.emit("currentTimeChange"))}get defaultMuted(){return!!this.video&&this.video.defaultMuted}set defaultMuted(e){this.video&&(this.video.defaultMuted=e)}get duration(){return this.config.duration?this.video?Math.min(this.config.duration,this.video.duration):this.config.duration:this.video?this.video.duration:null}get ended(){return!this.video||(this.video.ended||!1)}get error(){let e=this.video.error;if(!e)return null;let t=[{en:"MEDIA_ERR_ABORTED",cn:"取回过程被用户中止"},{en:"MEDIA_ERR_NETWORK",cn:"当下载时发生错误"},{en:"MEDIA_ERR_DECODE",cn:"当解码时发生错误"},{en:"MEDIA_ERR_SRC_NOT_SUPPORTED",cn:"不支持音频/视频"}];return this.lang?this.lang[t[e.code-1].en]:t[e.code-1].en}get loop(){return!!this.video&&this.video.loop}set loop(e){this.video&&(this.video.loop=e)}get muted(){return!!this.video&&this.video.muted}set muted(e){this.video&&(this.video.muted=e)}get networkState(){let e=[{en:"NETWORK_EMPTY",cn:"音频/视频尚未初始化"},{en:"NETWORK_IDLE",cn:"音频/视频是活动的且已选取资源，但并未使用网络"},{en:"NETWORK_LOADING",cn:"浏览器正在下载数据"},{en:"NETWORK_NO_SOURCE",cn:"未找到音频/视频来源"}];return this.lang?this.lang[e[this.video.networkState].en]:e[this.video.networkState].en}get paused(){return!!this.video&&this.video.paused}get playbackRate(){return this.video?this.video.playbackRate:1}set playbackRate(e){this.video&&(this.video.playbackRate=e)}get played(){return this.video?this.video.played:void 0}get preload(){return!!this.video&&this.video.preload}set preload(e){this.video&&(this.video.preload=e)}get readyState(){let e=[{en:"HAVE_NOTHING",cn:"没有关于音频/视频是否就绪的信息"},{en:"HAVE_METADATA",cn:"关于音频/视频就绪的元数据"},{en:"HAVE_CURRENT_DATA",cn:"关于当前播放位置的数据是可用的，但没有足够的数据来播放下一帧/毫秒"},{en:"HAVE_FUTURE_DATA",cn:"当前及至少下一帧的数据是可用的"},{en:"HAVE_ENOUGH_DATA",cn:"可用数据足以开始播放"}];return this.lang?this.lang[e[this.video.readyState].en]:e[this.video.readyState]}get seekable(){return!!this.video&&this.video.seekable}get seeking(){return!!this.video&&this.video.seeking}get src(){return this.video?this.video.src:void 0}set src(e){Object(r.m)(this.root,"xgplayer-ended")||this.emit("urlchange",this.video.src),this.autoplay=!0,this.video.pause(),this.video.src=e,this.emit("srcChange")}set poster(e){let t=Object(r.j)(this.root,".xgplayer-poster");t&&(t.style.backgroundImage=`url(${e})`)}get volume(){return this.video?this.video.volume:1}set volume(e){this.video&&(this.video.volume=e)}get fullscreen(){return Object(r.m)(this.root,"xgplayer-is-fullscreen")||Object(r.m)(this.root,"xgplayer-fullscreen-active")}get bullet(){return!!Object(r.j)(this.root,"xg-danmu")&&Object(r.m)(Object(r.j)(this.root,"xg-danmu"),"xgplayer-has-danmu")}get textTrack(){return Object(r.m)(this.root,"xgplayer-is-textTrack")}get pip(){return Object(r.m)(this.root,"xgplayer-pip-active")}},l=i(3),c=i(7),u=i(12),d=i.n(u),f=i(9),h=(i(37),i(8));class p extends a{constructor(e){if(super(e),this.config=Object(r.h)({width:600,height:337.5,ignores:[],whitelist:[],lang:(document.documentElement.getAttribute("lang")||navigator.language||"zh-cn").toLocaleLowerCase(),inactive:3e3,volume:.6,controls:!0,controlsList:["nodownload"]},e),this.version=h.a,this.userTimer=null,this.waitTimer=null,this.history=[],this.isProgressMoving=!1,this.root=Object(r.j)(document,"#"+this.config.id),this.controls=Object(r.f)("xg-controls","",{unselectable:"on",onselectstart:"return false"},"xgplayer-controls"),this.config.isShowControl&&(this.controls.style.display="none"),!this.root){let e=this.config.el;if(!e||1!==e.nodeType)return this.emit("error",new s.a({type:"use",errd:{line:45,handle:"Constructor",msg:"container id can't be empty"},vid:this.config.vid})),console.error("container id can't be empty"),!1;this.root=e}if(Object(r.c)(this.root,`xgplayer xgplayer-${l.a.device} xgplayer-nostart ${this.config.controls?"":"xgplayer-no-controls"}`),this.root.appendChild(this.controls),this.config.fluid?(this.root.style["max-width"]="100%",this.root.style.width="100%",this.root.style.height="0",this.root.style["padding-top"]=100*this.config.height/this.config.width+"%",this.video.style.position="absolute",this.video.style.top="0",this.video.style.left="0"):(this.config.width&&("number"!=typeof this.config.width?this.root.style.width=this.config.width:this.root.style.width=this.config.width+"px"),this.config.height&&("number"!=typeof this.config.height?this.root.style.height=this.config.height:this.root.style.height=this.config.height+"px")),this.config.execBeforePluginsCall&&this.config.execBeforePluginsCall.forEach(e=>{e.call(this,this)}),this.config.closeI18n||p.install(f.a.name,f.a.method),this.config.controlStyle&&"String"===Object(r.u)(this.config.controlStyle)){let e=this;fetch(e.config.controlStyle,{method:"GET",headers:{Accept:"application/json"}}).then((function(t){t.ok&&t.json().then((function(t){for(var i in t)t.hasOwnProperty(i)&&(e.config[i]=t[i]);e.pluginsCall()}))})).catch((function(e){console.log("Fetch错误:"+e)}))}else this.pluginsCall();this.config.controlPlugins&&p.controlsRun(this.config.controlPlugins,this),this.ev.forEach(e=>{let t=Object.keys(e)[0],i=this[e[t]];i&&this.on(t,i)}),["focus","blur"].forEach(e=>{this.on(e,this["on"+e.charAt(0).toUpperCase()+e.slice(1)])});let t=this;this.mousemoveFunc=function(){t.emit("focus"),t.config.closeFocusVideoFocus||t.video.focus()},this.root.addEventListener("mousemove",this.mousemoveFunc),this.playFunc=function(){t.emit("focus"),t.config.closePlayVideoFocus||t.video.focus()},t.once("play",this.playFunc),this.getVideoSize=function(){if(this.video.videoWidth&&this.video.videoHeight){let e=t.root.getBoundingClientRect();"auto"===t.config.fitVideoSize?e.width/e.height>this.video.videoWidth/this.video.videoHeight?t.root.style.height=this.video.videoHeight/this.video.videoWidth*e.width+"px":t.root.style.width=this.video.videoWidth/this.video.videoHeight*e.height+"px":"fixWidth"===t.config.fitVideoSize?t.root.style.height=this.video.videoHeight/this.video.videoWidth*e.width+"px":"fixHeight"===t.config.fitVideoSize&&(t.root.style.width=this.video.videoWidth/this.video.videoHeight*e.height+"px")}},t.once("loadeddata",this.getVideoSize),setTimeout(()=>{this.emit("ready"),this.isReady=!0},0),this.config.videoInit&&Object(r.m)(this.root,"xgplayer-nostart")&&this.start(),t.config.rotate&&(t.on("requestFullscreen",this.updateRotateDeg),t.on("exitFullscreen",this.updateRotateDeg)),t.once("destroy",(function e(){t.root.removeEventListener("mousemove",t.mousemoveFunc),t.off("destroy",e)}))}attachVideo(){this.video&&1===this.video.nodeType&&this.root.insertBefore(this.video,this.root.firstChild),setTimeout(()=>{this.emit("complete"),this.danmu&&"function"==typeof this.danmu.resize&&this.danmu.resize()},1)}start(e=this.config.url){if(!this.video)return;let t=this;e&&""!==e||this.emit("urlNull"),this.canPlayFunc=function(){t.off("canplay",t.canPlayFunc);let e=t.video.play();void 0!==e&&e&&e.then((function(){t.emit("autoplay started")})).catch((function(){t.emit("autoplay was prevented"),Object(r.c)(t.root,"xgplayer-is-autoplay")}))},"Array"!==Object(r.u)(e)?"String"===Object(r.u)(e)&&e.indexOf("blob:")>-1&&e===this.video.src||(this.video.src=e):e.forEach(e=>{this.video.appendChild(Object(r.f)("source","",{src:""+e.src,type:""+(e.type||"")}))}),this.config.autoplay&&(l.a.os.isPhone?this.canPlayFunc():this.on("canplay",this.canPlayFunc)),this.config.disableStartLoad||this.video.load(),this.attachVideo()}reload(){this.video.load(),this.reloadFunc=function(){let e=this.play();void 0!==e&&e&&e.catch(e=>{})},this.once("loadeddata",this.reloadFunc)}destroy(e=!0){let t=this;clearInterval(this.bulletResizeTimer);for(let e in this._interval)clearInterval(this._interval[e]),this._interval[e]=null;function i(){if(this.emit("destroy"),this.video.removeAttribute("src"),this.video.load(),e){this.root.innerHTML="";let e=this.root.className.split(" ");e.length>0?this.root.className=e.filter(e=>e.indexOf("xgplayer")<0).join(" "):this.root.className=""}for(let e in this)delete this[e];d()(this)}this.checkTimer&&clearInterval(this.checkTimer),this.waitTimer&&clearTimeout(this.waitTimer),this.ev.forEach(e=>{let t=Object.keys(e)[0],i=this[e[t]];i&&this.off(t,i)}),this.loadeddataFunc&&this.off("loadeddata",this.loadeddataFunc),this.reloadFunc&&this.off("loadeddata",this.reloadFunc),this.replayFunc&&this.off("play",this.replayFunc),this.playFunc&&this.off("play",this.playFunc),this.getVideoSize&&this.off("loadeddata",this.getVideoSize),["focus","blur"].forEach(e=>{this.off(e,this["on"+e.charAt(0).toUpperCase()+e.slice(1)])}),this.config.keyShortcut&&"on"!==this.config.keyShortcut||["video","controls"].forEach(e=>{this[e]&&this[e].removeEventListener("keydown",(function(e){t.onKeydown(e,t)}))}),this.paused?i.call(this):(this.pause(),this.once("pause",i)),super.destroy()}replay(){let e=this._replay;if(Object(r.r)(this.root,"xgplayer-ended"),l.a.browser.indexOf("ie")>-1&&(this.emit("play"),this.emit("playing")),e&&e instanceof Function)e();else{this.currentTime=0;let e=this.play();void 0!==e&&e&&e.catch(e=>{})}}userGestureTrigEvent(e,t){const i=(e,t)=>{this.emit(e,t)};this.config.userGestureEventMiddleware&&"function"==typeof this.config.userGestureEventMiddleware[e]?this.config.userGestureEventMiddleware[e].call(this,this,e,t,i):i.call(this,e,t)}pluginsCall(){p.plugins.s_i18n&&p.plugins.s_i18n.call(this,this);let e=this;if(p.plugins){let t=this.config.ignores;Object.keys(p.plugins).forEach(i=>{let n=p.plugins[i];n&&"function"==typeof n?t.some(e=>i===e||i==="s_"+e)||"s_i18n"===i||(["pc","tablet","mobile"].some(e=>e===i)?i===l.a.device&&setTimeout(()=>{e.video&&n.call(e,e)},0):n.call(this,this)):console.warn("plugin name",i,"is invalid")})}}onFocus(){let e=this;Object(r.m)(this.root,"xgplayer-inactive")&&e.emit("controlShow"),Object(r.r)(this.root,"xgplayer-inactive"),e.userTimer&&clearTimeout(e.userTimer),e.userTimer=setTimeout((function(){e.emit("blur")}),e.config.inactive)}onBlur(){!this.config.enablePausedInactive&&this.paused||this.ended||this.config.closeInactive||(Object(r.m)(this.root,"xgplayer-inactive")||this.emit("controlHide"),Object(r.c)(this.root,"xgplayer-inactive"))}onPlay(){Object(r.c)(this.root,"xgplayer-isloading"),Object(r.c)(this.root,"xgplayer-playing"),Object(r.r)(this.root,"xgplayer-pause")}onPause(){Object(r.c)(this.root,"xgplayer-pause"),this.userTimer&&clearTimeout(this.userTimer),this.emit("focus")}onEnded(){Object(r.c)(this.root,"xgplayer-ended"),Object(r.r)(this.root,"xgplayer-playing")}onSeeking(){this.isSeeking=!0,this.onWaiting()}onSeeked(){this.isSeeking=!1,this.waitTimer&&clearTimeout(this.waitTimer),Object(r.r)(this.root,"xgplayer-isloading")}onWaiting(){let e=this;e.waitTimer&&clearTimeout(e.waitTimer),e.checkTimer&&(clearInterval(e.checkTimer),e.checkTimer=null);let t=e.currentTime;e.waitTimer=setTimeout((function(){Object(r.c)(e.root,"xgplayer-isloading"),e.checkTimer=setInterval((function(){e.currentTime!==t&&(Object(r.r)(e.root,"xgplayer-isloading"),clearInterval(e.checkTimer),e.checkTimer=null)}),1e3)}),500)}onPlaying(){this.paused||(this.isSeeking=!1,this.waitTimer&&clearTimeout(this.waitTimer),Object(r.r)(this.root,"xgplayer-isloading xgplayer-nostart xgplayer-pause xgplayer-ended xgplayer-is-error xgplayer-replay"),Object(r.c)(this.root,"xgplayer-playing"))}static install(e,t){Object(r.d)()&&(p.plugins||(p.plugins={}),p.plugins[e]||(p.plugins[e]=t))}static installAll(e){for(let t=0;t<e.length;t++)p.install(e[t].name,e[t].method)}static use(e,t){p.plugins||(p.plugins={}),p.plugins[e]=t}static useAll(e){for(let t in e)p.use(e[t].name,e[t].method)}static controlsRun(e,t){e.forEach((function(e){e.method.call(t)}))}}p.util=r.v,p.sniffer=l.a,p.Errors=s.a,p.XgplayerTimeRange=c.a;t.a=p},function(e,t,i){"use strict";var n=i(28)();e.exports=function(e){return e!==n&&null!==e}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e){this.bufferedList=e}start(e){return this.bufferedList[e].start}end(e){return this.bufferedList[e].end}get length(){return this.bufferedList.length}}},function(e){e.exports=JSON.parse('{"a":"2.26.5"}')},function(e,t,i){"use strict";var n=i(0);t.a={name:"s_i18n",method:function(){let e=this,t={en:{HAVE_NOTHING:"There is no information on whether audio/video is ready",HAVE_METADATA:"Audio/video metadata is ready ",HAVE_CURRENT_DATA:"Data about the current play location is available, but there is not enough data to play the next frame/millisecond",HAVE_FUTURE_DATA:"Current and at least one frame of data is available",HAVE_ENOUGH_DATA:"The available data is sufficient to start playing",NETWORK_EMPTY:"Audio/video has not been initialized",NETWORK_IDLE:"Audio/video is active and has been selected for resources, but no network is used",NETWORK_LOADING:"The browser is downloading the data",NETWORK_NO_SOURCE:"No audio/video source was found",MEDIA_ERR_ABORTED:"The fetch process is aborted by the user",MEDIA_ERR_NETWORK:"An error occurred while downloading",MEDIA_ERR_DECODE:"An error occurred while decoding",MEDIA_ERR_SRC_NOT_SUPPORTED:"Audio/video is not supported",REPLAY:"Replay",ERROR:"Network is offline",PLAY_TIPS:"Play",PAUSE_TIPS:"Pause",PLAYNEXT_TIPS:"Play next",DOWNLOAD_TIPS:"Download",ROTATE_TIPS:"Rotate",RELOAD_TIPS:"Reload",FULLSCREEN_TIPS:"Fullscreen",EXITFULLSCREEN_TIPS:"Exit fullscreen",CSSFULLSCREEN_TIPS:"Cssfullscreen",EXITCSSFULLSCREEN_TIPS:"Exit cssfullscreen",TEXTTRACK:"Caption",PIP:"Pip",MINIPLAYER:"Miniplayer",SCREENSHOT:"Screenshot",LIVE:"LIVE",OFF:"Off",MINIPLAYER_DRAG:"Click and hold to drag",AIRPLAY_TIPS:"Airplay"},"zh-cn":{HAVE_NOTHING:"没有关于音频/视频是否就绪的信息",HAVE_METADATA:"音频/视频的元数据已就绪",HAVE_CURRENT_DATA:"关于当前播放位置的数据是可用的，但没有足够的数据来播放下一帧/毫秒",HAVE_FUTURE_DATA:"当前及至少下一帧的数据是可用的",HAVE_ENOUGH_DATA:"可用数据足以开始播放",NETWORK_EMPTY:"音频/视频尚未初始化",NETWORK_IDLE:"音频/视频是活动的且已选取资源，但并未使用网络",NETWORK_LOADING:"浏览器正在下载数据",NETWORK_NO_SOURCE:"未找到音频/视频来源",MEDIA_ERR_ABORTED:"取回过程被用户中止",MEDIA_ERR_NETWORK:"当下载时发生错误",MEDIA_ERR_DECODE:"当解码时发生错误",MEDIA_ERR_SRC_NOT_SUPPORTED:"不支持的音频/视频格式",REPLAY:"重播",ERROR:"网络连接似乎出现了问题",PLAY_TIPS:"播放",PAUSE_TIPS:"暂停",PLAYNEXT_TIPS:"下一集",DOWNLOAD_TIPS:"下载",ROTATE_TIPS:"旋转",RELOAD_TIPS:"重新载入",FULLSCREEN_TIPS:"进入全屏",EXITFULLSCREEN_TIPS:"退出全屏",CSSFULLSCREEN_TIPS:"进入样式全屏",EXITCSSFULLSCREEN_TIPS:"退出样式全屏",TEXTTRACK:"字幕",PIP:"画中画",MINIPLAYER:"迷你播放器",SCREENSHOT:"截图",LIVE:"正在直播",OFF:"关闭",MINIPLAYER_DRAG:"点击按住可拖动视频",AIRPLAY_TIPS:"隔空播放"},"zh-hk":{HAVE_NOTHING:"沒有關於音頻/視頻是否就緒的信息",HAVE_METADATA:"音頻/視頻的元數據已就緒",HAVE_CURRENT_DATA:"關於當前播放位置的數據是可用的，但沒有足夠的數據來播放下壹幀/毫秒",HAVE_FUTURE_DATA:"當前及至少下壹幀的數據是可用的",HAVE_ENOUGH_DATA:"可用數據足以開始播放",NETWORK_EMPTY:"音頻/視頻尚未初始化",NETWORK_IDLE:"音頻/視頻是活動的且已選取資源，但並未使用網絡",NETWORK_LOADING:"瀏覽器正在下載數據",NETWORK_NO_SOURCE:"未找到音頻/視頻來源",MEDIA_ERR_ABORTED:"取回過程被用戶中止",MEDIA_ERR_NETWORK:"當下載時發生錯誤",MEDIA_ERR_DECODE:"當解碼時發生錯誤",MEDIA_ERR_SRC_NOT_SUPPORTED:"不支持的音頻/視頻格式",REPLAY:"重播",ERROR:"網絡連接似乎出現了問題",PLAY_TIPS:"播放",PAUSE_TIPS:"暫停",PLAYNEXT_TIPS:"下壹集",DOWNLOAD_TIPS:"下載",ROTATE_TIPS:"旋轉",RELOAD_TIPS:"重新載入",FULLSCREEN_TIPS:"進入全屏",EXITFULLSCREEN_TIPS:"退出全屏",CSSFULLSCREEN_TIPS:"進入樣式全屏",EXITCSSFULLSCREEN_TIPS:"退出樣式全屏",TEXTTRACK:"字幕",PIP:"畫中畫",MINIPLAYER:"迷妳播放器",SCREENSHOT:"截圖",LIVE:"正在直播",OFF:"關閉",MINIPLAYER_DRAG:"點擊按住可拖動視頻",AIRPLAY_TIPS:"隔空播放"},jp:{HAVE_NOTHING:"オーディオ/ビデオが準備できているか情報がありません",HAVE_METADATA:"オーディオ/ビデオのメタデータは準備できています",HAVE_CURRENT_DATA:"現在の再生位置に関するデータは利用可能ですが、次のフレーム/ミリ秒を再生するのに十分なデータがありません",HAVE_FUTURE_DATA:"現在、少なくとも次のフレームのデータが利用可能です",HAVE_ENOUGH_DATA:"利用可能なデータは再生を開始するのに十分です",NETWORK_EMPTY:"オーディオ/ビデオが初期化されていません",NETWORK_IDLE:"オーディオ/ビデオはアクティブでリソースが選択されていますが、ネットワークが使用されていません",NETWORK_LOADING:"ブラウザーはデータをダウンロードしています",NETWORK_NO_SOURCE:"オーディオ/ビデオ のソースが見つかりません",MEDIA_ERR_ABORTED:"ユーザーによってフェッチプロセスが中止されました",MEDIA_ERR_NETWORK:"ダウンロード中にエラーが発生しました",MEDIA_ERR_DECODE:"デコード中にエラーが発生しました",MEDIA_ERR_SRC_NOT_SUPPORTED:"オーディオ/ビデオ の形式がサポートされていません",REPLAY:"リプレイ",ERROR:"ネットワークの接続に問題が発生しました",PLAY_TIPS:"プレイ",PAUSE_TIPS:"一時停止",PLAYNEXT_TIPS:"次をプレイ",DOWNLOAD_TIPS:"ダウンロード",ROTATE_TIPS:"回転",RELOAD_TIPS:"再読み込み",FULLSCREEN_TIPS:"フルスクリーン",EXITFULLSCREEN_TIPS:"フルスクリーンを終了",CSSFULLSCREEN_TIPS:"シアターモード",EXITCSSFULLSCREEN_TIPS:"シアターモードを終了",TEXTTRACK:"字幕",PIP:"ミニプレーヤー",MINIPLAYER:"ミニプレーヤー",SCREENSHOT:"スクリーンショット",LIVE:"生放送",OFF:"オフ",MINIPLAYER_DRAG:"ボタンを押して働画をドラッグする",AIRPLAY_TIPS:"隔空放送"}};Object.defineProperty(e,"lang",{get:function(){return e.config&&t[e.config.lang]||t.en},set:function(e){"Object"===Object(n.u)(e)&&Object.keys(e).forEach(i=>{t[i]=e[i]})}})}}},function(e,t,i){"use strict";e.exports=function(e){return null!=e}},function(e,t,i){"use strict";var n,o,r,s,a,l,c,u=i(17),d=i(34),f=Function.prototype.apply,h=Function.prototype.call,p=Object.create,g=Object.defineProperty,y=Object.defineProperties,v=Object.prototype.hasOwnProperty,m={configurable:!0,enumerable:!1,writable:!0};o=function(e,t){var i,o;return d(t),o=this,n.call(this,e,i=function(){r.call(o,e,i),f.call(t,this,arguments)}),i.__eeOnceListener__=t,this},a={on:n=function(e,t){var i;return d(t),v.call(this,"__ee__")?i=this.__ee__:(i=m.value=p(null),g(this,"__ee__",m),m.value=null),i[e]?"object"==typeof i[e]?i[e].push(t):i[e]=[i[e],t]:i[e]=t,this},once:o,off:r=function(e,t){var i,n,o,r;if(d(t),!v.call(this,"__ee__"))return this;if(!(i=this.__ee__)[e])return this;if("object"==typeof(n=i[e]))for(r=0;o=n[r];++r)o!==t&&o.__eeOnceListener__!==t||(2===n.length?i[e]=n[r?0:1]:n.splice(r,1));else n!==t&&n.__eeOnceListener__!==t||delete i[e];return this},emit:s=function(e){var t,i,n,o,r;if(v.call(this,"__ee__")&&(o=this.__ee__[e]))if("object"==typeof o){for(i=arguments.length,r=new Array(i-1),t=1;t<i;++t)r[t-1]=arguments[t];for(o=o.slice(),t=0;n=o[t];++t)f.call(n,this,r)}else switch(arguments.length){case 1:h.call(o,this);break;case 2:h.call(o,this,arguments[1]);break;case 3:h.call(o,this,arguments[1],arguments[2]);break;default:for(i=arguments.length,r=new Array(i-1),t=1;t<i;++t)r[t-1]=arguments[t];f.call(o,this,r)}}},l={on:u(n),once:u(o),off:u(r),emit:u(s)},c=y({},l),e.exports=t=function(e){return null==e?p(c):y(Object(e),l)},t.methods=a},function(e,t,i){"use strict";var n=i(35),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t,i=arguments[1];if(n(e),void 0===i)o.call(e,"__ee__")&&delete e.__ee__;else{if(!(t=o.call(e,"__ee__")&&e.__ee__))return;t[i]&&delete t[i]}}},function(e,t,i){"use strict";var n=i(0);t.a={name:"mobile",method:function(){let e,t=this,i=t.root,o=0,r={first:"",second:""};function s(e){t.video.addEventListener("touchend",(function(e){t.onElementTouchend(e,t.video)})),t.video.addEventListener("touchstart",()=>{t.isTouchMove=!1}),t.video.addEventListener("touchmove",()=>{t.isTouchMove=!0}),t.config.autoplay&&t.start()}t.onElementTouchend=function(t,s){this.config.closeVideoPreventDefault||t.preventDefault(),this.config.closeVideoStopPropagation||t.stopPropagation();let a=this;if(Object(n.m)(i,"xgplayer-inactive")?a.emit("focus"):a.emit("blur"),!a.config.closeVideoTouch&&!a.isTouchMove){function l(){e=setTimeout((function(){if(Object(n.m)(a.root,"xgplayer-nostart"))return!1;if(!a.ended)if(a.paused){let e=a.play();void 0!==e&&e&&e.catch(e=>{})}else a.pause();o=0}),200)}a.config.closeVideoClick||(o++,e&&clearTimeout(e),1===o?a.config.enableVideoDbltouch?r.first=new Date:l():2===o&&a.config.enableVideoDbltouch?(r.second=new Date,Math.abs(r.first-r.second)<400?l():(r.first=new Date,o=1)):o=0)}},t.once("ready",s),t.once("destroy",(function e(){t.off("ready",s),t.off("destroy",e)}))}}},function(e,t,i){"use strict";var n=i(0);t.a={name:"pc",method:function(){let e=this;if(!e.controls||!e.video)return;let t,i=e.controls,o=e.root,r=0;function s(){clearTimeout(e.leavePlayerTimer),e.emit("focus",e)}function a(){e.config.closePlayerBlur||(e.leavePlayerTimer=setTimeout((function(){e.emit("blur",e)}),e.config.leavePlayerTime||0))}function l(t){e.config.autoplay&&e.start()}e.onElementClick=function(e,i){this.config.closeVideoPreventDefault||e.preventDefault(),this.config.closeVideoStopPropagation||e.stopPropagation();let o=this;o.config.closeVideoClick||(r++,t&&clearTimeout(t),1===r?t=setTimeout((function(){if(Object(n.m)(o.root,"xgplayer-nostart"))return!1;if(!o.ended)if(o.paused){let e=o.play();void 0!==e&&e&&e.catch(e=>{})}else o.pause();r=0}),200):r=0)},e.video.addEventListener("click",(function(t){e.onElementClick(t,e.video)}),!1),e.onElementDblclick=function(e,t){this.config.closeVideoPreventDefault||e.preventDefault(),this.config.closeVideoStopPropagation||e.stopPropagation();if(!this.config.closeVideoDblclick){let e=i.querySelector(".xgplayer-fullscreen");if(e){let t;document.createEvent?(t=document.createEvent("Event"),t.initEvent("click",!0,!0)):t=new Event("click"),e.dispatchEvent(t)}}},e.video.addEventListener("dblclick",(function(t){e.onElementDblclick(t,e.video)}),!1),o.addEventListener("mouseenter",s),o.addEventListener("mouseleave",a),i.addEventListener("mouseenter",(function(t){e.userTimer&&clearTimeout(e.userTimer)})),i.addEventListener("mouseleave",(function(t){e.config.closeControlsBlur||e.emit("focus",e)})),i.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation()})),e.once("ready",l),e.once("destroy",(function t(){o.removeEventListener("mouseenter",s),o.removeEventListener("mouseleave",a),e.off("ready",l),e.off("destroy",t)}))}}},function(e,t,i){"use strict";var n=i(0);t.a={name:"start",method:function(){let e=this,t=e.root;function i(){e.off("canplay",i);let t=e.play();void 0!==t&&t&&t.catch(e=>{})}function o(){Object(n.m)(t,"xgplayer-nostart")?(Object(n.r)(t,"xgplayer-nostart"),Object(n.c)(t,"xgplayer-is-enter"),"function"==typeof t.contains?e.video&&1===e.video.nodeType&&!t.contains(e.video)||e.video&&1!==e.video.nodeType&&void 0===e.video.mediaSource?(e.once("canplay",i),e.start()):i():e.video&&1===e.video.nodeType&&!t.querySelector(this.videoConfig.mediaType)||e.video&&1!==e.video.nodeType&&void 0===e.video.mediaSource?(e.once("canplay",i),e.start()):i()):e.paused&&(Object(n.r)(t,"xgplayer-nostart xgplayer-isloading"),setTimeout(()=>{let t=e.play();void 0!==t&&t&&t.catch(e=>{})},10))}e.on("startBtnClick",o),e.once("destroy",(function t(){e.off("startBtnClick",o),e.off("canplay",i),e.off("destroy",t)}))}}},function(e,t,i){"use strict";var n=i(0);i(40);t.a={name:"s_start",method:function(){let e=this,t=e.root,i=Object(n.f)("xg-start",'<div class="xgplayer-icon-play"><svg xmlns="http://www.w3.org/2000/svg" width="70" height="70" viewBox="0 0 70 70">\n  <path transform="translate(15,15) scale(0.04,0.04)" d="M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z"></path>\n</svg>\n</div>\n                                      <div class="xgplayer-icon-pause"><svg xmlns="http://www.w3.org/2000/svg" width="70" height="70" viewBox="0 0 70 70">\n  <path transform="translate(15,15) scale(0.04 0.04)" d="M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z"></path>\n</svg>\n</div>',{},"xgplayer-start");function o(e){Object(n.c)(e.root,"xgplayer-skin-default"),e.config&&(e.config.autoplay&&!Object(n.o)()&&!Object(n.n)()&&Object(n.c)(e.root,"xgplayer-is-enter"),e.config.lang&&"en"===e.config.lang?Object(n.c)(e.root,"xgplayer-lang-is-en"):"jp"===e.config.lang&&Object(n.c)(e.root,"xgplayer-lang-is-jp"),e.config.enableContextmenu||e.video.addEventListener("contextmenu",e=>{e.preventDefault(),e.stopPropagation()}))}e.config&&e.config.hideStartBtn&&Object(n.c)(t,"xgplayer-start-hide"),e.isReady?(t.appendChild(i),o(e)):e.once("ready",()=>{t.appendChild(i),o(e)}),e.once("autoplay was prevented",()=>{Object(n.r)(e.root,"xgplayer-is-enter"),Object(n.c)(e.root,"xgplayer-nostart")}),e.once("canplay",()=>{Object(n.r)(e.root,"xgplayer-is-enter")}),i.onclick=t=>{t.preventDefault(),t.stopPropagation(),e.userGestureTrigEvent("startBtnClick")}}}},function(e,t,i){"use strict";var n=i(10),o=i(18),r=i(22),s=i(30),a=i(31);(e.exports=function(e,t){var i,o,l,c,u;return arguments.length<2||"string"!=typeof e?(c=t,t=e,e=null):c=arguments[2],n(e)?(i=a.call(e,"c"),o=a.call(e,"e"),l=a.call(e,"w")):(i=l=!0,o=!1),u={value:t,configurable:i,enumerable:o,writable:l},c?r(s(c),u):u}).gs=function(e,t,i){var l,c,u,d;return"string"!=typeof e?(u=i,i=t,t=e,e=null):u=arguments[3],n(t)?o(t)?n(i)?o(i)||(u=i,i=void 0):i=void 0:(u=t,t=i=void 0):t=void 0,n(e)?(l=a.call(e,"c"),c=a.call(e,"e")):(l=!0,c=!1),d={get:t,set:i,configurable:l,enumerable:c},u?r(s(u),d):d}},function(e,t,i){"use strict";var n=i(19),o=/^\s*class[\s{/}]/,r=Function.prototype.toString;e.exports=function(e){return!!n(e)&&!o.test(r.call(e))}},function(e,t,i){"use strict";var n=i(20);e.exports=function(e){if("function"!=typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length)return!1;if("function"!=typeof e.call)return!1;if("function"!=typeof e.apply)return!1}catch(e){return!1}return!n(e)}},function(e,t,i){"use strict";var n=i(21);e.exports=function(e){if(!n(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch(e){return!1}}},function(e,t,i){"use strict";var n=i(10),o={object:!0,function:!0,undefined:!0};e.exports=function(e){return!!n(e)&&hasOwnProperty.call(o,typeof e)}},function(e,t,i){"use strict";e.exports=i(23)()?Object.assign:i(24)},function(e,t,i){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,i){"use strict";var n=i(25),o=i(29),r=Math.max;e.exports=function(e,t){var i,s,a,l=r(arguments.length,2);for(e=Object(o(e)),a=function(n){try{e[n]=t[n]}catch(e){i||(i=e)}},s=1;s<l;++s)n(t=arguments[s]).forEach(a);if(void 0!==i)throw i;return e}},function(e,t,i){"use strict";e.exports=i(26)()?Object.keys:i(27)},function(e,t,i){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,i){"use strict";var n=i(6),o=Object.keys;e.exports=function(e){return o(n(e)?Object(e):e)}},function(e,t,i){"use strict";e.exports=function(){}},function(e,t,i){"use strict";var n=i(6);e.exports=function(e){if(!n(e))throw new TypeError("Cannot use null or undefined");return e}},function(e,t,i){"use strict";var n=i(6),o=Array.prototype.forEach,r=Object.create,s=function(e,t){var i;for(i in e)t[i]=e[i]};e.exports=function(e){var t=r(null);return o.call(arguments,(function(e){n(e)&&s(Object(e),t)})),t}},function(e,t,i){"use strict";e.exports=i(32)()?String.prototype.contains:i(33)},function(e,t,i){"use strict";var n="razdwatrzy";e.exports=function(){return"function"==typeof n.contains&&(!0===n.contains("dwa")&&!1===n.contains("foo"))}},function(e,t,i){"use strict";var n=String.prototype.indexOf;e.exports=function(e){return n.call(this,e,arguments[1])>-1}},function(e,t,i){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},function(e,t,i){"use strict";var n=i(36);e.exports=function(e){if(!n(e))throw new TypeError(e+" is not an Object");return e}},function(e,t,i){"use strict";var n=i(6),o={function:!0,object:!0};e.exports=function(e){return n(e)&&o[typeof e]||!1}},function(e,t,i){var n=i(38);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(2)(n,o);n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(1)(!1)).push([e.i,".xgplayer-skin-default{background:#000;width:100%;height:100%;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;-ms-user-select:none}.xgplayer-skin-default *{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}.xgplayer-skin-default.xgplayer-rotate-fullscreen{position:absolute;top:0;left:100%;bottom:0;right:0;height:100vw!important;width:100vh!important;-webkit-transform-origin:top left;-ms-transform-origin:top left;transform-origin:top left;-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.xgplayer-skin-default.xgplayer-is-fullscreen{width:100%!important;height:100%!important;padding-top:0!important;z-index:9999}.xgplayer-skin-default.xgplayer-is-fullscreen.xgplayer-inactive{cursor:none}.xgplayer-skin-default video{width:100%;height:100%;outline:none}.xgplayer-skin-default .xgplayer-none{display:none}@-webkit-keyframes loadingRotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes loadingRotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes loadingDashOffset{0%{stroke-dashoffset:236}to{stroke-dashoffset:0}}@keyframes loadingDashOffset{0%{stroke-dashoffset:236}to{stroke-dashoffset:0}}.xgplayer-skin-default .xgplayer-controls{display:-webkit-flex;display:-moz-box;display:flex;position:absolute;bottom:0;left:0;right:0;height:40px;background-image:linear-gradient(180deg,transparent,rgba(0,0,0,.37),rgba(0,0,0,.75),rgba(0,0,0,.75));z-index:10}.xgplayer-skin-default.xgplayer-inactive .xgplayer-controls,.xgplayer-skin-default.xgplayer-is-live .xgplayer-controls .xgplayer-progress,.xgplayer-skin-default.xgplayer-is-live .xgplayer-controls .xgplayer-time,.xgplayer-skin-default.xgplayer-no-controls .xgplayer-controls,.xgplayer-skin-default.xgplayer-nostart .xgplayer-controls{display:none}.xgplayer-skin-default.xgplayer-is-live .xgplayer-controls .xgplayer-live{display:block}.xgplayer-skin-default .xgplayer-live{display:block;font-size:12px;color:#fff;line-height:40px;-webkit-order:1;-moz-box-ordinal-group:2;order:1}.xgplayer-skin-default .xgplayer-icon{display:block;width:40px;height:40px;overflow:hidden;fill:#fff}.xgplayer-skin-default .xgplayer-icon svg{position:absolute}.xgplayer-skin-default .xgplayer-tips{background:rgba(0,0,0,.54);border-radius:1px;display:none;position:absolute;font-family:PingFangSC-Regular;font-size:11px;color:#fff;padding:2px 4px;text-align:center;top:-30px;left:50%;margin-left:-16px;width:auto;white-space:nowrap}.xgplayer-skin-default.xgplayer-mobile .xgplayer-tips{display:none!important}.xgplayer-skin-default .xgplayer-screen-container{display:block;width:100%}",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,n=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,r=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?e:(o=0===r.indexOf("//")?r:0===r.indexOf("/")?i+r:n+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(e,t,i){var n=i(41);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(2)(n,o);n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(1)(!1)).push([e.i,".xgplayer-skin-default .xgplayer-start{border-radius:50%;display:inline-block;width:70px;height:70px;background:rgba(0,0,0,.38);overflow:hidden;text-align:center;line-height:70px;vertical-align:middle;position:absolute;left:50%;top:50%;z-index:115;margin:-35px auto auto -35px;cursor:pointer}.xgplayer-skin-default .xgplayer-start div{position:absolute}.xgplayer-skin-default .xgplayer-start div svg{fill:hsla(0,0%,100%,.7)}.xgplayer-skin-default .xgplayer-start .xgplayer-icon-play{display:block}.xgplayer-skin-default .xgplayer-start .xgplayer-icon-pause{display:none}.xgplayer-skin-default .xgplayer-start:hover{opacity:.85}.xgplayer-skin-default.xgplayer-pause.xgplayer-start-hide .xgplayer-start,.xgplayer-skin-default.xgplayer-playing .xgplayer-start,.xgplayer-skin-default.xgplayer-playing .xgplayer-start .xgplayer-icon-play,.xgplayer-skin-default.xgplayer-start-hide .xgplayer-start{display:none}.xgplayer-skin-default.xgplayer-playing .xgplayer-start .xgplayer-icon-pause{display:block}.xgplayer-skin-default.xgplayer-pause .xgplayer-start{display:inline-block}.xgplayer-skin-default.xgplayer-pause .xgplayer-start .xgplayer-icon-play{display:block}.xgplayer-skin-default.xgplayer-is-replay .xgplayer-start,.xgplayer-skin-default.xgplayer-pause .xgplayer-start .xgplayer-icon-pause{display:none}.xgplayer-skin-default.xgplayer-is-replay .xgplayer-start .xgplayer-icon-play{display:block}.xgplayer-skin-default.xgplayer-is-replay .xgplayer-start .xgplayer-icon-pause{display:none}",""])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){e.exports=i(116)},function(e,t,i){"use strict";i.r(t);var n=i(5),o=i(13),r=i(14),s=i(15),a=i(16);[o.a,r.a,s.a,a.a].forEach((function(e){n.a.install(e.name,e.method)})),t.default=n.a}])}));
//# sourceMappingURL=core_player.js.map